import tornado.gen
import tornado.web

from common.web import requestsManager

HTML_FILE = """
<html>
    <head>
        <style>
            @import url(https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,600,400italic,600italic,700italic,900,900italic);
            @import url(https://fonts.googleapis.com/css?family=Raleway:400,700);
            html, body {
                height: 90%;
                background-image: url(http://y.zxq.co/xtffuu.png);
            }
            .main {
                height: 100%;
                width: 100%;
                display: table;
            }
            .wrapper {
                display: table-cell;
                height: 90%;
                vertical-align: middle;
            }
            body {
                font-family: Source Sans Pro;
                text-align: center;
            }
            h1, h2, h3, h4, h5, h6 {
                font-family: Raleway;
            }
        </style>
    </head>
    <body>
        <div class = "main">
            <div class = "wrapper">
                <a href="https://akatsuki.pw"><img src="https://i.namir.in//Mbp.png"></a>
                <h3>Howdy, you're still connected to Akatsuki!</h3>
                You can't access osu!'s website if the Server Switcher is On.<br>
                Please open the <b>Server Switcher</b> and click <b>On/Off</b> to switch server, then refresh this page.
                <h4>If you still can't access osu! website even if the switcher is Off, <a href="http://www.refreshyourcache.com/" target="_blank">clean your browser cache</a>.</h4>
            </div>
        </div>
    </body>
</html>
"""

class handler(requestsManager.asyncRequestHandler):
    @tornado.web.asynchronous
    @tornado.gen.engine
    def asyncGet(self) -> None:
        print(f"404: {self.request.uri}")
        self.write(HTML_FILE)
